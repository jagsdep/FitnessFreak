<!DOCTYPE html>
<html>
<link rel="stylesheet" href="input.css">
<body>

<h2>BMI Calculation</h2>


<form action="./cal" method = "POST" id="formSubmit"> <!-- directs the request to proper server-side route -->

  <label for="weight">Weight in pounds:</label><br>
  <input type="text" id="weight" name="weight" required><br>
  <label for="height">Height in inches:</label><br>
  <input type="text"  id="height" name="height" required><br><br>
  <input type="button" onclick="myFunction()" value="Check BMI">
</form> 


</body>


<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="config.js"></script> 
<script>
  function myFunction() {
    let weight= document.querySelector('#weight')
    let height= document.querySelector('#height')
    let body={
     weight:weight.value,
     height:height.value
    }
    
    axios.post(config_url + '/bmi', body)//It creates the data in the backend and returns a response.  
        .then(response => {
          console.log(response)
            const BMI = response.data.BMI;
            alert("Your BMI is:- "+parseFloat(BMI).toFixed(2));
            document.getElementById("formSubmit").submit();
        })
        .catch(error => console.error(error));
   
  }
  </script>
  

</html>
